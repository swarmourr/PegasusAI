<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pegasus AI | Complete Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;900&family=JetBrains+Mono&display=swap"
        rel="stylesheet">
  <style>
    /* --- 1. CORE VARIABLES --- */
:root {
    /* Dark Mode (Default) */
    --bg-main: #020617;
    --bg-card: rgba(255, 255, 255, 0.03);
    --border-color: rgba(255, 255, 255, 0.08);
    --text-main: #f8fafc;
    --text-muted: #94a3b8;
    --header-bg: rgba(2, 6, 23, 0.8);
    --accent: #38bdf8;
    
    /* Lifecycle Colors */
    --c-create: #38bdf8;
    --c-plan: #818cf8;
    --c-provision: #a78bfa;
    --c-execute: #34d399;
    --c-publish: #fb7185;
    --active-color: var(--c-create);
}

/* THE WHITE UPDATE: Pure Light Mode */
body.light-mode {
    --bg-main: #ffffff;           /* Pure White Background */
    --bg-card: rgba(15, 23, 42, 0.03); /* Subtle translucent overlay for cards */
    --border-color: #e6eef8;      /* Clean gray borders */
    --text-main: #0f172a;         /* Deep Navy text */
    --text-muted: #475569;        /* Slate text */
    --header-bg: rgba(255, 255, 255, 0.95);
    --accent: #0ea5e9;
}

/* Light-mode visual overrides for better contrast and polish */
body.light-mode header {
    background: var(--header-bg);
    border-bottom: 1px solid var(--border-color);
    box-shadow: 0 8px 24px rgba(2, 6, 23, 0.04);
}

body.light-mode .glass-card {
    /* Use an opaque-ish background to avoid backdrop blurring in light mode */
    background: rgba(255,255,255,0.98);
    border: 1px solid rgba(2,6,23,0.04);
    color: var(--text-main);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
}

body.light-mode .glass-card:hover {
    border-color: var(--accent);
    transform: translateY(-4px);
    box-shadow: 0 12px 36px rgba(14,165,233,0.06);
}

body.light-mode .logo-header-static {
    filter: drop-shadow(0 10px 20px rgba(14,165,233,0.06));
}

body.light-mode .logo-hero-xl {
    filter: drop-shadow(0 18px 40px rgba(14,165,233,0.06));
}

body.light-mode .theme-toggle {
    background: var(--bg-card);
    color: var(--accent);
    box-shadow: 0 8px 24px rgba(2,6,23,0.04);
    border: 1px solid var(--border-color);
}

body.light-mode .image-wrapper .hover-logo {
    filter: none;
    opacity: 0.95;
}

/* Light-mode overrides for common Tailwind utility classes used across the site */
body.light-mode .bg-slate-950,
body.light-mode .bg-slate-950\/50 {
    background-color: var(--bg-main) !important;
    color: var(--text-main) !important;
}
body.light-mode .bg-white\/5 {
    background-color: rgba(2,6,23,0.04) !important;
}
body.light-mode .text-white { color: var(--text-main) !important; }
body.light-mode .text-slate-300,
body.light-mode .text-slate-400,
body.light-mode .text-slate-500,
body.light-mode .text-slate-600 { color: var(--text-muted) !important; }
body.light-mode .border-white\/5,
body.light-mode .border-white\/10 { border-color: rgba(2,6,23,0.06) !important; }

/* Remove Tailwind image inversion used for dark mode */
body.light-mode .brightness-0,
body.light-mode .invert { filter: none !important; }

/* Make translucent overlays subtler in light mode */
body.light-mode .bg-gradient-to-t.from-slate-950\/60 { background: linear-gradient(to top, rgba(15,23,42,0.04), transparent) !important; }

/* Nav and header link adjustments for light mode */
/* Nav adjustments for light mode to match dark mode energy */
body.light-mode nav a {
    color: var(--text-muted);
    font-weight: 700;
    transform: none;
}

body.light-mode nav a:hover,
body.light-mode nav a.active {
    color: var(--accent);
    transform: none;
}

/* Badge / inline tags (e.g., NSF Funded Infrastructure) */
body.light-mode .inline-flex.bg-sky-500\/10 {
    background-color: rgba(14,165,233,0.06) !important;
    border-color: rgba(14,165,233,0.12) !important;
    color: var(--accent) !important;
}

/* Accent color adjustments for labeled spans */
body.light-mode .text-sky-500 { color: var(--accent) !important; }

/* Buttons and CTA adjustments often using bg-sky-500 */
body.light-mode .bg-sky-500 { background-color: var(--accent) !important; }
body.light-mode .text-slate-950 { color: #071233 !important; }

/* Ensure small mono tracking items remain readable */
body.light-mode .mono, body.light-mode .mono * { color: var(--text-muted) !important; }

/* --- 2. GLOBAL RESET & BASE --- */
* { margin: 0; padding: 0; box-sizing: border-box; }

body.light-mode header {
    position: fixed;
    top: 0;
    width: 100%;
    height: 100px;              /* MATCH dark mode */
    display: flex;
    align-items: center;
    padding: 0 5%;
    background: var(--header-bg);
    border-bottom: 1px solid var(--border-color);
    z-index: 1000;
}

body {
    font-family: 'Outfit', sans-serif;
    background-color: var(--bg-main);
    color: var(--text-main);
    transition: background-color 0.5s ease, color 0.5s ease;
    scroll-behavior: smooth;
    overflow-x: hidden;
}

.mono { font-family: 'JetBrains Mono', monospace; }

section {
    min-height: 100vh;
    padding: 140px 5% 80px;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

/* --- 3. HEADER & NAVIGATION --- */
body:not(.light-mode) header {
    position: fixed;
    top: 0; width: 100%; height: 100px;
    background: var(--header-bg);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border-bottom: 1px solid var(--border-color);
    z-index: 1000;
    display: flex;
    align-items: center;
    padding: 0 5%;
    transition: all 0.3s ease;
}

.logo-header-static {
    height: 60px;
    width: auto;
    filter: drop-shadow(0 0 8px rgba(56, 189, 248, 0.2));
}

nav a {
    color: var(--text-muted);
    font-size: 11px;
    font-weight: 700;
    letter-spacing: 0.2em;
    transition: color 0.3s ease;
}

nav a:hover, nav a.active {
    color: var(--accent);
}

/* --- 4. ABOUT SECTION & MASSIVE LOGO --- */
.about-grid {
    display: grid;
    grid-template-columns: 1.1fr 0.9fr;
    gap: 5rem;
    align-items: center;
    max-width: 1400px;
    margin: 0 auto;
}

.logo-hero-xl {
    width: 0%;
    max-width: 100px;
    height: auto;
    z-index: 10;
    transform: translateX(5%);
    filter: drop-shadow(0 0 60px rgba(56, 189, 248, 0.25));
    animation: heroFloatLarge 8s ease-in-out infinite;
}

/* Blue ambient glow behind the logo */
.hero-glow {
    position: absolute;
    width: 150%;
    height: 150%;
    background: radial-gradient(circle, rgba(56, 189, 248, 0.12) 0%, transparent 70%);
    border-radius: 50%;
    z-index: 0;
}

/* --- 5. COMPONENT STYLES --- */
.glass-card {
    background: var(--bg-card);
    border: 1px solid var(--border-color);
    border-radius: 24px;
    padding: 1.5rem;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.glass-card:hover {
    border-color: var(--accent);
    transform: translateY(-5px);
}

/* Lifecycle SVG Styles */
.stage-viewport {
    perspective: 1500px;
    width: 100%;
    max-width: 550px;
    aspect-ratio: 1;
}

#lifecycle-svg {
    transition: transform 1.2s cubic-bezier(0.2, 0.8, 0.2, 1);
    transform-style: preserve-3d;
}

.stage-path {
    cursor: pointer;
    transition: all 0.4s ease;
    opacity: 0.15;
}

.stage-path.active {
    opacity: 1;
    filter: drop-shadow(0 0 15px var(--active-color));
}

/* --- 6. ANIMATIONS --- */
@keyframes heroFloatLarge {
    0%, 100% { transform: translate(5%, 0px); }
    50% { transform: translate(5%, -35px); }
}

/* --- 7. MOBILE RESPONSIVENESS --- */
@media (max-width: 1024px) {
    header { height: 80px; }
    
    .about-grid {
        grid-template-columns: 1fr;
        text-align: center;
        gap: 2rem;
    }

    .logo-hero-xl {
        width: 100%;
        max-width: 420px;
        transform: none;
        margin: 2rem auto 0;
    }

    @keyframes heroFloatLarge {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-20px); }
    }

    nav { display: none; } /* Hide for mobile; desktop-only nav */
    
    h2 { font-size: 3.5rem !important; }
}

/* --- 8. UI ELEMENTS --- */
.theme-toggle {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    z-index: 9999;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    background: var(--bg-card);
    border: 1px solid var(--border-color);
    color: var(--accent);
}
  </style>
</head>

<body>

    <style>
        /* ... your existing root and basic styles ... */

        body:not(.light-mode) header {
            position: fixed;
            top: 0;
            width: 100%;
            height: 120px;
            /* Increased height for larger logo */
            background: rgba(2, 6, 23, 0.9);
            backdrop-filter: blur(15px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            z-index: 1000;
            display: flex;
            align-items: center;
            padding: 0 5%;
        }

        /* --- ENHANCED LOGO ANIMATIONS --- */
        .logo-hero-size {
            height: 100px;
            /* Much bigger logo */
            width: auto;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        /* Combined Floating and Breathing Animation */
        .logo-animate {
            animation: logoComplex 5s ease-in-out infinite;
            filter: drop-shadow(0 0 10px rgba(56, 189, 248, 0.2));
        }

        @keyframes logoComplex {

            0%,
            100% {
                transform: translateY(0px) scale(1);
                filter: drop-shadow(0 0 15px rgba(56, 189, 248, 0.3));
            }

            50% {
                transform: translateY(-15px) scale(1.1);
                filter: drop-shadow(0 0 30px rgba(56, 189, 248, 0.6));
            }
        }

        /* Hover effect to make it interactive */
        .logo-hero-size:hover {
            transform: rotate(5deg) scale(1.2);
            cursor: pointer;
        }

        .member-card .hover-logo {
            position: absolute;
            right: -20px;
            /* Hidden slightly to the right */
            top: -20px;
            /* Hidden slightly above */
            width: 60px;
            height: 60px;
            opacity: 0;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            z-index: 20;
            pointer-events: none;
        }

        .member-card:hover .hover-logo {
            opacity: 1;
            right: 10px;
            /* Slides into view */
            top: 10px;
            transform: rotate(-10deg);
            filter: drop-shadow(0 0 10px rgba(56, 189, 248, 0.6));
        }

        /* Ensure the image container is relative so the logo stays inside it */
        .image-wrapper {
            position: relative;
            overflow: hidden;
            border-radius: 1.5rem;
        }

        /* Mobile Responsive Adjustments */
        @media (max-width: 768px) {
            header {
                height: 80px;
                /* Reduced from 120px */
                padding: 0 1rem;
                flex-direction: column;
                /* Stack logo and nav if needed */
                justify-content: center;
            }

            .logo-hero-size {
                height: 50px;
                /* Smaller logo for mobile */
            }

            nav {
                display: none;
                /* Hide main nav; consider a hamburger menu later */
            }

            section {
                padding: 80px 1.5rem 40px;
                /* Reduced top padding */
                min-height: auto;
                /* Allow sections to shrink-wrap content */
            }

            h2.text-7xl,
            h2.text-6xl {
                font-size: 3rem !important;
                /* Scale down massive headings */
                line-height: 1.1;
            }

            .stage-viewport {
                max-width: 320px;
                /* Prevent the lifecycle engine from overflowing */
            }

            #step-title {
                font-size: 2.5rem !important;
            }

            #step-bullets .p-4 {
                font-size: 1.1rem !important;
                /* Smaller text for lifecycle steps */
            }
        }

       /* 1. Header Logo - Static & Clean */
.logo-header-static {
    height: 70px;
    width: auto;
    filter: drop-shadow(0 0 10px rgba(56, 189, 248, 0.2));
}

/* 2. About Section Logo - Extra Large & Centered */
.logo-hero-xl {
    width: 70%; /* Makes it larger than the column width */
    max-width: 900px;
    height: auto;
    z-index: 10;
    /* Subtle breathing animation */
    animation: heroFloatLarge 8s ease-in-out infinite;
    filter: drop-shadow(0 0 50px rgba(56, 189, 248, 0.3));
}

@keyframes heroFloatLarge {
    0%, 100% { transform: translate(5%, 0px); }
    50% { transform: translate(5%, -25px); }
}

/* Adjust layout for the text vs logo */
.about-grid {
    display: grid;
    grid-template-columns: 1fr 1fr; /* 50/50 split */
    gap: 2rem;
    align-items: center;
}

@media (max-width: 1024px) {
    .about-grid { grid-template-columns: 1fr; }
    .logo-hero-xl { 
        width: 100%; 
        max-width: 400px; 
        transform: none; 
        margin-top: 3rem;
    }
}   

        @keyframes heroFloatLarge {

            0%,
            100% {
                transform: translate(10%, 0px) scale(1);
            }

            50% {
                transform: translate(10%, -30px) scale(1.02);
            }
        }

        /* Ensure the container doesn't clip the larger logo */
        .about-image-container {
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            min-height: 600px;
        }

        /* Mobile: Scale down to fit screen width */
        @media (max-width: 1024px) {
            .logo-hero-xl {
                width: 100%;
                max-width: 500px;
                transform: translate(0, 0);
            }

            @keyframes heroFloatLarge {

                0%,
                100% {
                    transform: translateY(0px);
                }

                50% {
                    transform: translateY(-20px);
                }
            }
        }

        .glow-pulse {
    position: absolute;
    width: 150%;
    height: 150%;
    /* Subtle blue tint that works on both dark and light */
    background: radial-gradient(circle, rgba(14, 165, 233, 0.15) 0%, transparent 70%);
    border-radius: 50%;
    animation: glowScale 4s ease-in-out infinite;
}

/* Make sure the logo shadow isn't too heavy in light mode */
body.light-mode .logo-hero-xl {
    filter: drop-shadow(0 20px 40px rgba(14, 165, 233, 0.15));
}

/* Soften hero glow in light mode (or hide it) */
body.light-mode .hero-glow {
    background: radial-gradient(circle, rgba(14,165,233,0.06) 0%, transparent 70%);
    filter: none !important;
    opacity: 0.6;
}

/* Make the #about section visually match the dark version but in light colors */
body.light-mode #about {
    background-color: var(--bg-main) !important;
    color: var(--text-main) !important;
}

body.light-mode #about h2 {
    color: var(--text-main) !important;
}

body.light-mode #about p,
body.light-mode #about .text-xl,
body.light-mode #about .text-sm {
    color: var(--text-muted) !important;
}

/* Ensure glass cards stand out on white background */
body.light-mode #about .glass-card {
    background: #f8fafc;
    border: 1px solid rgba(2,6,23,0.06);
    box-shadow: 0 6px 18px rgba(2,6,23,0.03);
    color: var(--text-main);
}

/* Subtler hero glow for the about hero in light mode */
body.light-mode #about .hero-glow {
    background: radial-gradient(circle, rgba(14,165,233,0.04) 0%, transparent 70%);
    opacity: 0.25;
}
    </style>

    <header>
        <div class="flex items-center gap-8">
            <img src="image.png" alt="Logo" class="logo-header-static">

            <div class="flex flex-col">
                <h1 class="text-4xl font-black uppercase italic tracking-tighter leading-none">
                    Pegasus <span class="text-sky-500">AI</span>
                </h1>
                <span class="mono text-[9px] tracking-[0.4em] text-sky-400/60 mt-1">NEXT-GEN WORKFLOWS</span>
            </div>
        </div>

        <nav class="ml-auto flex gap-10 mono text-[12px] font-bold tracking-widest text-slate-400">
            <a href="#about" class="hover:text-white hover:scale-110 transition-all">01 ABOUT</a>
            <a href="#ecosystem" class="hover:text-white hover:scale-110 transition-all">02 ECOSYSTEM</a>
            <a href="#tech" class="hover:text-white hover:scale-110 transition-all">03 TECH</a>
            <a href="#engine" class="hover:text-white hover:scale-110 transition-all">04 ENGINE</a>
            <a href="#team" class="hover:text-white hover:scale-110 transition-all">05 TEAM</a>
        </nav>
    </header>

   <section id="about" class="bg-slate-950 overflow-hidden py-24">
    <div class="max-w-[1400px] mx-auto px-6">
        <div class="about-grid">
            
            <div class="space-y-12">
                <div class="space-y-6">
                    <div class="inline-flex items-center gap-3 px-4 py-1.5 rounded-full bg-sky-500/10 border border-sky-500/20 text-sky-400 text-[10px] font-bold tracking-[0.2em] uppercase">
                        <i data-lucide="sparkles" class="w-3 h-3"></i> NSF Funded Infrastructure
                    </div>
                    <h2 class="text-7xl font-black tracking-tighter leading-none">
                        What is <span class="text-sky-500 italic">Pegasus AI?</span>
                    </h2>
                    <p class="text-xl text-slate-300 leading-relaxed font-light">
                        PegasusAI is the next-generation AI-driven scientific workflow management system developed by a
                        multi-institutional team funded by the <strong>U.S. National Science Foundation</strong>.
                    </p>
                </div>

                <div class="grid md:grid-cols-2 gap-4">
                    <div class="p-6 glass-card rounded-2xl">
                        <h4 class=" font-bold flex items-center gap-2 mb-2"><i data-lucide="brain" class="w-4 h-4 text-sky-500"></i> Intelligent Planning</h4>
                        <p class="text-sm text-slate-400">ML models to predict resource needs and optimize execution.</p>
                    </div>
                    <div class="p-6 glass-card rounded-2xl">
                        <h4 class="font-bold flex items-center gap-2 mb-2"><i data-lucide="zap" class="w-4 h-4 text-sky-500"></i> Adaptive Mgmt</h4>
                        <p class="text-sm text-slate-400">Real-time anomaly detection and automatic plan adjustment.</p>
                    </div>
                    <div class="p-6 glass-card rounded-2xl">
                        <h4 class="font-bold flex items-center gap-2 mb-2"><i data-lucide="users" class="w-4 h-4 text-sky-500"></i> Human-in-Loop</h4>
                        <p class="text-sm text-slate-400">AI-augmented tools for creation, monitoring, and debugging.</p>
                    </div>
                    <div class="p-6 glass-card rounded-2xl">
                        <h4 class="font-bold flex items-center gap-2 mb-2"><i data-lucide="database" class="w-4 h-4 text-sky-500"></i> AI-Ready Data</h4>
                        <p class="text-sm text-slate-400">Curated datasets to advance cyberinfrastructure research.</p>
                    </div>
                </div>
            </div>

            <div class="relative flex justify-center items-center">
                    <div class="absolute inset-0 bg-sky-500/10 hero-glow rounded-full scale-150"></div>
                
                <img src="image.png" 
                     alt="Pegasus AI Hero" 
                     class="logo-hero-xl relative z-10">
            </div>

        </div>
    </div>
</section>

    <section id="ecosystem" class="py-24 bg-slate-950 border-t border-white/5 overflow-hidden">
        <div class="max-w-[1400px] mx-auto px-6">
            <div class="grid lg:grid-cols-5 gap-12 items-center">

                <div class="lg:col-span-2 space-y-8 z-10">
                    <div>
                        <h2
                            class="text-7xl md:text-8xl font-black tracking-tighter uppercase italic text-white leading-[0.8]">
                            Pegasus <br>
                            <span class="text-sky-500">In Context</span>
                        </h2>
                        <div class="mt-8 flex items-center gap-4">
                            <div class="h-[2px] w-12 bg-sky-500"></div>
                            <span class="font-mono text-[11px] tracking-[0.5em] text-sky-400 uppercase font-bold">
                                Ecosystem Architecture
                            </span>
                        </div>
                    </div>

                    <p class="text-xl text-slate-300 leading-relaxed font-light max-w-xl">
                        Pegasus AI acts as the intelligent orchestration layer across the scientific computing
                        continuum.
                        By bridging human intent with distributed resources, it creates a seamless flow between
                        data generation and large-scale execution.
                    </p>

                    <div class="flex gap-12 pt-6">
                        <div class="group">
                            <div
                                class="text-white font-black text-4xl tracking-tighter group-hover:text-sky-400 transition-colors">
                                100%</div>
                            <div class="text-[10px] uppercase tracking-[0.3em] text-slate-500 font-mono mt-1">Automated
                                Workflow</div>
                        </div>
                        <div class="group">
                            <div
                                class="text-white font-black text-4xl tracking-tighter group-hover:text-sky-400 transition-colors">
                                Global</div>
                            <div class="text-[10px] uppercase tracking-[0.3em] text-slate-500 font-mono mt-1">
                                Infrastructure</div>
                        </div>
                    </div>
                </div>

                <div class="lg:col-span-3 relative flex justify-center items-center">
                    <svg viewBox="0 0 1200 1650" xmlns="http://www.w3.org/2000/svg" class="w-full h-auto">
                        <defs>
                            <style>
                                @import url('https://fonts.googleapis.com/css2?family=Inter:wght@900&display=swap');

                                .label {
                                    font-family: 'Inter', sans-serif;
                                    text-transform: uppercase;
                                    letter-spacing: 0.1em;
                                    pointer-events: none;
                                }

                                /* GLOW EFFECTS */
                                .glow-cyan {
                                    filter: drop-shadow(0 0 8px rgba(34, 211, 238, 0.6));
                                }

                                .glow-indigo {
                                    filter: drop-shadow(0 0 8px rgba(99, 102, 241, 0.6));
                                }

                                .glow-emerald {
                                    filter: drop-shadow(0 0 8px rgba(16, 185, 129, 0.6));
                                }

                                /* Unified Paths */
                                .user-mesh {
                                    fill: none;
                                    stroke: #22d3ee;
                                    stroke-width: 5;
                                    opacity: 0.2;
                                }

                                .path-intent {
                                    fill: none;
                                    stroke: #22d3ee;
                                    stroke-width: 5;
                                    opacity: 0.4;
                                }

                                .path-intel {
                                    fill: none;
                                    stroke: #6366f1;
                                    stroke-width: 5;
                                    opacity: 0.4;
                                    stroke-dasharray: 8;
                                }

                                .path-exec {
                                    fill: none;
                                    stroke: #10b981;
                                    stroke-width: 5;
                                    opacity: 0.4;
                                }

                                .path-return {
                                    fill: none;
                                    stroke: #10b981;
                                    stroke-width: 5;
                                    opacity: 0.5;
                                    stroke-dasharray: 10;
                                }

                                /* Unified Glass Box Style */
                                .box-glass {
                                    fill: rgba(255, 255, 255, 0.02);
                                    stroke-width: 3;
                                    rx: 20;
                                }

                                .packet {
                                    filter: url(#theme-glow);
                                }

                                .f-down {
                                    animation: m-down 3.4s linear infinite;
                                }

                                .f-up {
                                    animation: m-up 3.4s linear infinite;
                                }

                                .label {
                                    font-family: 'Outfit', sans-serif;
                                    text-transform: uppercase;
                                    letter-spacing: 0.1em;
                                }

                                .mono-label {
                                    font-family: 'JetBrains Mono', monospace;
                                    text-transform: uppercase;
                                    letter-spacing: 0.4em;
                                }

                                .path-line {
                                    fill: none;
                                    stroke: #38bdf8;
                                    stroke-width: 2;
                                    opacity: 0.1;
                                }

                                @keyframes m-down {
                                    0% {
                                        offset-distance: 0%;
                                        opacity: 0;
                                    }

                                    10% {
                                        opacity: 1;
                                    }

                                    90% {
                                        opacity: 1;
                                    }

                                    100% {
                                        offset-distance: 100%;
                                        opacity: 0;
                                    }
                                }

                                @keyframes m-up {
                                    0% {
                                        offset-distance: 100%;
                                        opacity: 0;
                                    }

                                    10% {
                                        opacity: 1;
                                    }

                                    90% {
                                        opacity: 1;
                                    }

                                    100% {
                                        offset-distance: 0%;
                                        opacity: 0;
                                    }
                                }
                            </style>
                            <filter id="theme-glow">
                                <feGaussianBlur stdDeviation="3" result="blur" />
                                <feMerge>
                                    <feMergeNode in="blur" />
                                    <feMergeNode in="SourceGraphic" />
                                </feMerge>
                            </filter>
                        </defs>

                        <g id="full-mesh" opacity="1">
                            <path id="p_m1" d="M 200,135 L 110,265" class="user-mesh" />
                            <path id="p_m2" d="M 360,135 L 295,265" class="path-intel" />
                            <path id="p_m3" d="M 520,135 L 460,265" class="path-intel" />
                            <path id="p_m4" d="M 680,135 L 660,265" class="path-intel" />
                            <path id="p_m5" d="M 840,135 L 890,265" class="path-intel" />
                            <path id="p_m6" d="M 1000,135 L 1090,265" class="user-mesh" />
                            <path id="p_i1" d="M 110,335 C 110,500 500,500 570,550" class="path-intent" />
                            <path id="p_i2" d="M 1090,335 C 1090,500 700,500 630,550" class="path-intent" />
                            <path id="p_l1" d="M 580,550 C 500,480 295,480 295,335" class="path-intel" />
                            <path id="p_l2" d="M 600,550 C 600,480 460,480 460,335" class="path-intel" />
                            <path id="p_l3" d="M 600,550 C 600,480 660,480 660,335" class="path-intel" />
                            <path id="p_l4" d="M 620,550 C 700,480 890,480 890,335" class="path-intel" />
                            <path id="p_x1" d="M 600,750 L 600,885" class="path-exec" />
                            <path id="p_x2" d="M 600,955 L 600,1220" class="path-exec" />
                            <path id="p_r1" d="M 300,1220 L 300,1020" class="path-return" />
                            <path id="p_r2" d="M 300,950 C 300,800 530,750 560,680" class="path-return" />
                            <path id="p_mr1" d="M 900,1220 L 900,1020" class="path-return" />
                            <path id="p_mr2" d="M 900,950 C 900,800 670,750 640,680" class="path-return" />
                        </g>

                        <circle r="5" fill="#22d3ee" class="packet f-down"
                            style="offset-path: path('M 200,135 L 110,265'); animation-delay: 0s;" />
                        <circle r="5" fill="#818cf8" class="packet f-up"
                            style="offset-path: path('M 360,135 L 295,265'); animation-delay: 0.5s;" />
                        <circle r="5" fill="#818cf8" class="packet f-up"
                            style="offset-path: path('M 520,135 L 460,265'); animation-delay: 1s;" />
                        <circle r="5" fill="#818cf8" class="packet f-up"
                            style="offset-path: path('M 680,135 L 660,265'); animation-delay: 1.5s;" />
                        <circle r="5" fill="#818cf8" class="packet f-up"
                            style="offset-path: path('M 840,135 L 890,265'); animation-delay: 2s;" />
                        <circle r="5" fill="#22d3ee" class="packet f-down"
                            style="offset-path: path('M 1000,135 L 1090,265'); animation-delay: 0.2s;" />

                        <circle r="5" fill="#22d3ee" class="packet f-down"
                            style="offset-path: path('M 110,335 C 110,500 500,500 570,550'); animation-delay: 0.8s;" />
                        <circle r="5" fill="#22d3ee" class="packet f-down"
                            style="offset-path: path('M 1090,335 C 1090,500 700,500 630,550'); animation-delay: 1.2s;" />
                        <circle r="5" fill="#818cf8" class="packet f-down"
                            style="offset-path: path('M 580,550 C 500,480 295,480 295,335'); animation-delay: 0.4s;" />
                        <circle r="5" fill="#818cf8" class="packet f-down"
                            style="offset-path: path('M 600,550 C 600,480 460,480 460,335'); animation-delay: 1.8s;" />
                        <circle r="5" fill="#818cf8" class="packet f-down"
                            style="offset-path: path('M 600,550 C 600,480 660,480 660,335'); animation-delay: 0.9s;" />
                        <circle r="5" fill="#818cf8" class="packet f-down"
                            style="offset-path: path('M 620,550 C 700,480 890,480 890,335'); animation-delay: 2.2s;" />

                        <circle r="5" fill="#34d399" class="packet f-down"
                            style="offset-path: path('M 600,750 L 600,885'); animation-delay: 0s;" />
                        <circle r="5" fill="#34d399" class="packet f-down"
                            style="offset-path: path('M 600,955 L 600,1220'); animation-delay: 1.7s;" />

                        <circle r="5" fill="#34d399" class="packet f-down"
                            style="offset-path: path('M 300,1220 L 300,1020'); animation-delay: 0.5s;" />
                        <circle r="5" fill="#34d399" class="packet f-down"
                            style="offset-path: path('M 300,950 C 300,800 530,750 560,680'); animation-delay: 1.1s;" />
                        <circle r="5" fill="#34d399" class="packet f-down"
                            style="offset-path: path('M 900,1220 L 900,1020'); animation-delay: 0.3s;" />
                        <circle r="5" fill="#34d399" class="packet f-down"
                            style="offset-path: path('M 900,950 C 900,800 670,750 640,680'); animation-delay: 2.5s;" />

                        <g transform="translate(600, 80)" class="glow-cyan">
                            <rect x="-560" y="-55" width="1120" height="110" rx="55" fill="none" stroke="#22d3ee"
                                stroke-width="3" stroke-dasharray="10,5" />
                            <text y="8" fill="#22d3ee" font-weight="900" font-size="16" text-anchor="middle"
                                class="label">Scientists • CI Facilitators • CI Operators • AI Researchers</text>
                        </g>
                        <g transform="translate(600, 220)">
                            <line x1="-550" y1="0" x2="550" y2="0" stroke="#334155" stroke-width="1" />
                            <rect x="-80" y="-12" width="160" height="24" fill="#020617" />
                            <text y="5" fill="#475569" font-weight="bold" font-size="11" text-anchor="middle"
                                class="mono-label">User Intent</text>
                        </g>
                        <g transform="translate(0, 300)">
                            <g transform="translate(110, 0)" class="glow-cyan">
                                <rect x="-95" y="-35" width="190" height="70" class="box-glass" stroke="#22d3ee"
                                    stroke-dasharray="5,3" /><text y="8" fill="#22d3ee" font-weight="900" font-size="12"
                                    text-anchor="middle" class="label">Workflows</text>
                            </g>
                            <g transform="translate(295, 0)" class="glow-indigo">
                                <rect x="-85" y="-35" width="170" height="70" class="box-glass" stroke="#6366f1"
                                    stroke-dasharray="5,3" /><text y="8" fill="#818cf8" font-weight="900" font-size="12"
                                    text-anchor="middle" class="label">Discoveries</text>
                            </g>
                            <g transform="translate(460, 0)" class="glow-indigo">
                                <rect x="-75" y="-35" width="150" height="70" class="box-glass" stroke="#6366f1"
                                    stroke-dasharray="5,3" /><text y="8" fill="#818cf8" font-weight="900" font-size="12"
                                    text-anchor="middle" class="label">Insights</text>
                            </g>
                            <g transform="translate(660, 0)" class="glow-indigo">
                                <rect x="-115" y="-35" width="230" height="70" class="box-glass" stroke="#6366f1"
                                    stroke-dasharray="5,3" /><text y="8" fill="#818cf8" font-weight="900" font-size="11"
                                    text-anchor="middle" class="label">Alerts & Notifications</text>
                            </g>
                            <g transform="translate(890, 0)" class="glow-indigo">
                                <rect x="-85" y="-35" width="170" height="70" class="box-glass" stroke="#6366f1"
                                    stroke-dasharray="5,3" /><text y="8" fill="#818cf8" font-weight="900" font-size="12"
                                    text-anchor="middle" class="label">AI Data</text>
                            </g>
                            <g transform="translate(1090, 0)" class="glow-cyan">
                                <rect x="-90" y="-35" width="180" height="70" class="box-glass" stroke="#22d3ee"
                                    stroke-dasharray="5,3" /><text y="8" fill="#22d3ee" font-weight="900" font-size="12"
                                    text-anchor="middle" class="label">AI Models</text>
                            </g>
                        </g>

                        <g transform="translate(600, 400)">
                            <line x1="-550" y1="0" x2="550" y2="0" stroke="#334155" stroke-width="1" />
                            <rect x="-80" y="-12" width="160" height="24" fill="#020617" />
                            <text y="5" fill="#475569" font-weight="bold" font-size="11" text-anchor="middle"
                                class="mono-label">Interfaces</text>
                        </g>
                        <g transform="translate(600, 600)">
                            <image href="image.png" x="-60" y="-180" width="150" height="400"
                                preserveAspectRatio="xMidYMid meet" opacity="0.9" />
                        </g>
                        <g transform="translate(600, 800)">
                            <line x1="-550" y1="0" x2="550" y2="0" stroke="#334155" stroke-width="1" />
                            <rect x="-80" y="-12" width="160" height="24" fill="#020617" />
                            <text y="5" fill="#475569" font-weight="bold" font-size="11" text-anchor="middle"
                                class="mono-label">Operational Artifacts</text>
                        </g>
                        <g transform="translate(600, 920)" class="glow-emerald">
                            <rect x="-100" y="-35" width="200" height="70" class="box-glass" stroke="#10b981"
                                stroke-dasharray="5,3" /><text y="8" fill="#34d399" font-weight="900" font-size="18"
                                text-anchor="middle" class="label">Jobs</text>
                        </g>
                        <g transform="translate(300, 985)" class="glow-emerald">
                            <rect x="-100" y="-35" width="200" height="70" class="box-glass" stroke="#10b981"
                                stroke-dasharray="5,3" /><text y="8" fill="#34d399" font-weight="900" font-size="14"
                                text-anchor="middle" class="label">Compute Results</text>
                        </g>
                        <g transform="translate(900, 985)" class="glow-emerald">
                            <rect x="-100" y="-35" width="200" height="70" class="box-glass" stroke="#10b981"
                                stroke-dasharray="5,3" /><text y="8" fill="#34d399" font-weight="900" font-size="14"
                                text-anchor="middle" class="label">Monitoring Data</text>
                        </g>

                        <g transform="translate(600, 1120)">
                            <line x1="-550" y1="0" x2="550" y2="0" stroke="#334155" stroke-width="1" />
                            <rect x="-80" y="-12" width="160" height="24" fill="#020617" />
                            <text y="5" fill="#475569" font-weight="bold" font-size="11" text-anchor="middle"
                                class="mono-label">Infrastructure / Execution Layer</text>
                        </g>
                        <g transform="translate(600, 1320)" class="glow-emerald">
                            <rect x="-550" y="-60" width="1100" height="120" rx="60" fill="none" stroke="#10b981"
                                stroke-width="4" stroke-dasharray="15,8" />
                            <text y="10" fill="#10b981" font-weight="900" font-size="22" text-anchor="middle"
                                class="label">Edge • HTC • Campus Clusters • Clouds • HPC</text>
                        </g>
                    </svg>

                </div>
            </div>
        </div>
    </section>
    <section id="tech">
        <div class="max-w-7xl mx-auto w-full">
            <h2 class="text-6xl font-black uppercase mb-16">Technical <span class="text-sky-500">Approach</span></h2>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="p-8 glass-card rounded-[2rem] space-y-4">
                    <h3 class="text-xl font-bold text-white">Hierarchical AI Agents</h3>
                    <p class="text-slate-400 text-sm">Integrate learning agents at task and workflow levels to support
                        local and global optimization.</p>
                </div>
                <div class="p-8 glass-card rounded-[2rem] space-y-4">
                    <h3 class="text-xl font-bold text-white">Hybrid Learning Models</h3>
                    <p class="text-slate-400 text-sm">Combine supervised learning, reinforcement learning, and online
                        learning for runtime dynamics.</p>
                </div>
                <div class="p-8 glass-card rounded-[2rem] space-y-4">
                    <h3 class="text-xl font-bold text-white">Runtime Monitoring</h3>
                    <p class="text-slate-400 text-sm">Collect real-time execution metrics and anomalies to update models
                        and guide decision-making.</p>
                </div>
                <div class="p-8 glass-card rounded-[2rem] space-y-4">
                    <h3 class="text-xl font-bold text-white">Failure Prediction</h3>
                    <p class="text-slate-400 text-sm">Anticipate resource failures or task slowdowns and trigger
                        intelligent re-planning or retries.</p>
                </div>
                <div class="p-8 glass-card rounded-[2rem] space-y-4">
                    <h3 class="text-xl font-bold text-white">Adaptive Scheduling</h3>
                    <p class="text-slate-400 text-sm">Improve resource matching and task prioritization based on learned
                        execution profiles.</p>
                </div>
                <div class="p-8 glass-card rounded-[2rem] space-y-4">
                    <h3 class="text-xl font-bold text-white">Workflow Summarization</h3>
                    <p class="text-slate-400 text-sm">Provide interpretable insights into specific actions, supporting
                        human-in-the-loop decision-making.</p>
                </div>
            </div>
            <div
                class="mt-8 p-10 glass-card rounded-[2rem] border-l-4 border-l-sky-500 flex items-center justify-between">
                <div>
                    <h3 class="text-2xl font-bold text-white mb-2">CI-Ready Design</h3>
                    <p class="text-slate-400">Implement within Pegasus's modular architecture to ensure compatibility
                        with the NSF CI ecosystem.</p>
                </div>
                <i data-lucide="component" class="w-12 h-12 text-sky-500 opacity-30"></i>
            </div>
        </div>
    </section>



    <section id="engine">
        <div class="pulse-bg"></div>
        <div class="max-w-[1700px] mx-auto grid lg:grid-cols-12 gap-10 items-center w-full">
            <div class="lg:col-span-5 flex flex-col items-center gap-12">
                <div class="stage-viewport">
                    <svg id="lifecycle-svg" viewBox="0 0 600 600">
                        <g id="segments">
                            <path id="svg-0" class="stage-path active" d="M300,20 A280,280 0 0,1 550,185 L300,300 Z"
                                fill="var(--c-create)" onclick="manualSet(0)" />
                            <path id="svg-1" class="stage-path" d="M550,185 A280,280 0 0,1 485,515 L300,300 Z"
                                fill="var(--c-plan)" onclick="manualSet(1)" />
                            <path id="svg-2" class="stage-path" d="M485,515 A280,280 0 0,1 115,515 L300,300 Z"
                                fill="var(--c-provision)" onclick="manualSet(2)" />
                            <path id="svg-3" class="stage-path" d="M115,515 A280,280 0 0,1 50,185 L300,300 Z"
                                fill="var(--c-execute)" onclick="manualSet(3)" />
                            <path id="svg-4" class="stage-path" d="M50,185 A280,280 0 0,1 300,20 L300,300 Z"
                                fill="var(--c-publish)" onclick="manualSet(4)" />
                        </g>
                        <g class="orbital-loop">
                            <defs>
                                <path id="lp" d="M 300,300 m -140,0 a 140,140 0 1,1 280,0 a 140,140 0 1,1 -280,0" />
                            </defs>
                            <text class="mono font-bold text-[12px]" fill="var(--active-color)">
                                <textPath href="#lp">MODIFY • ADAPT • MONITOR • </textPath>
                            </text>
                        </g>
                        <g>
                            <circle cx="300" cy="300" r="105" fill="#020617" stroke="var(--active-color)"
                                stroke-width="4" />
                            <image href="image.png" x="205" y="205" width="190" height="190" />
                        </g>
                    </svg>
                </div>
                <div class="flex gap-4 p-3 glass-card rounded-2xl">
                    <button onclick="manualSet(0)" id="btn-0" class="w-10 h-10 rounded-lg mono text-xs">01</button>
                    <button onclick="manualSet(1)" id="btn-1" class="w-10 h-10 rounded-lg mono text-xs">02</button>
                    <button onclick="manualSet(2)" id="btn-2" class="w-10 h-10 rounded-lg mono text-xs">03</button>
                    <button onclick="manualSet(3)" id="btn-3" class="w-10 h-10 rounded-lg mono text-xs">04</button>
                    <button onclick="manualSet(4)" id="btn-4" class="w-10 h-10 rounded-lg mono text-xs">05</button>
                </div>
            </div>
            <div class="lg:col-span-7">
                <div class="glass-card p-12 rounded-[3rem]">
                    <h2 id="step-title" class="text-7xl font-black uppercase mb-10 transition-all duration-500"></h2>
                    <div id="step-bullets" class="space-y-6"></div>
                    <div class="mt-12 pt-8 border-t border-white/5 flex items-center justify-between">
                        <div class="flex gap-6 mono text-[10px] tracking-widest font-bold">
                            <span id="tag-modify">MODIFY</span><span id="tag-adapt">ADAPT</span><span
                                id="tag-monitor">MONITOR</span>
                        </div>
                        <button onclick="toggleAutoplay()" class="p-3 glass-card rounded-full"><i data-lucide="pause"
                                id="play-icon" class="w-4 h-4"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section id="partners" class="bg-slate-950">
        <div class="max-w-7xl mx-auto w-full">
            <h2 class="text-6xl font-black uppercase mb-16 text-center italic">Project <span
                    class="text-sky-500">Partners</span></h2>
            <div class="grid md:grid-cols-2 gap-12">
                <div class="glass-card p-12 rounded-[3rem] text-center space-y-6 hover:border-sky-500/40 transition">
                    <h3 class="text-4xl font-bold tracking-tighter uppercase">ACCESS</h3>
                    <p class="text-slate-400">NSF-funded program providing unified access to over 20 compute and storage
                        systems.</p>
                    <a href="https://access-ci.org" target="_blank"
                        class="inline-flex items-center gap-2 text-sky-400 font-bold tracking-widest uppercase text-xs">Visit
                        access-ci.org <i data-lucide="external-link" class="w-4 h-4"></i></a>
                </div>
                <div class="glass-card p-12 rounded-[3rem] text-center space-y-6 hover:border-sky-500/40 transition">
                    <h3 class="text-4xl font-bold tracking-tighter uppercase">PATh & OSG</h3>
                    <p class="text-slate-400">Partnership to Advance Throughput Computing for large-scale distributed US
                        open science.</p>
                    <a href="https://path-cc.io" target="_blank"
                        class="inline-flex items-center gap-2 text-sky-400 font-bold tracking-widest uppercase text-xs">Visit
                        path-cc.io <i data-lucide="external-link" class="w-4 h-4"></i></a>
                </div>
            </div>
        </div>
    </section>
    <section id="team" class="py-24 bg-slate-950/50 border-t border-white/5">
        <div class="max-w-7xl mx-auto px-6">
            <div class="mb-16">
                <h2 class="text-6xl font-black uppercase italic tracking-tighter">The <span
                        class="text-sky-500">Team</span></h2>
                <p class="text-slate-500 mono text-xs tracking-[0.4em] mt-2">MULTI-INSTITUTIONAL COLLABORATORS</p>
            </div>

            <div id="active-team-grid" class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6">
            </div>

            <div class="mt-32 mb-12 flex items-center gap-8">
                <h3 class="text-2xl font-bold uppercase tracking-widest text-slate-600">Alumni</h3>
                <div class="h-px flex-1 bg-white/5"></div>
            </div>

            <div id="alumni-grid" class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6">
            </div>
        </div>
    </section>

    <footer id="contact" class="py-24 bg-slate-950 border-t border-white/5 relative overflow-hidden">
        <div class="max-w-[1500px] mx-auto px-6">
            <div class="grid lg:grid-cols-5 gap-16 items-start">

                <div class="lg:col-span-2 space-y-6">
                    <div>
                        <h2
                            class="text-7xl md:text-8xl font-black tracking-tighter uppercase italic text-white leading-[0.8]">
                            Get In <br>
                            <span class="text-sky-500">Touch</span>
                        </h2>
                        <div class="mt-6 flex items-center gap-4">
                            <div class="h-px w-12 bg-sky-500/50"></div>
                            <span class="font-mono text-[10px] tracking-[0.4em] text-sky-400/60 uppercase font-bold">
                                Strategic Inquiries
                            </span>
                        </div>
                    </div>
                    <p class="text-slate-400 font-light text-lg max-w-sm">
                        Connect with the ISI team or explore the foundational Pegasus WMS framework.
                    </p>
                </div>

                <div class="lg:col-span-3 space-y-6">

                    <a href="mailto:pegasusai@isi.edu?subject=Pegasus%20AI%20Inquiry"
                        class="group relative flex flex-col md:flex-row items-center justify-between p-10 rounded-[2rem] bg-white/5 border border-white/10 hover:border-sky-500/40 transition-all duration-500 overflow-hidden">
                        <div class="relative z-10 flex items-center gap-6">
                            <div
                                class="w-24 h-24 rounded-2xl bg-sky-500/10 border border-sky-500/20 flex items-center justify-center group-hover:scale-110 transition-transform p-3">
                                <img src="https://pegasus.isi.edu/wordpress/wp-content/uploads/2016/01/logo-vertical-1.png"
                                    alt="Pegasus AI"
                                    class="w-full h-full object-contain brightness-0 invert opacity-80 group-hover:opacity-100 transition-opacity">
                            </div>
                            <div>
                                <span
                                    class="block font-mono text-[9px] tracking-[0.3em] text-slate-500 uppercase mb-1">Direct
                                    Channel</span>
                                <h3
                                    class="text-xl md:text-2xl font-bold text-white tracking-tight group-hover:text-sky-400 transition-colors italic">
                                    pegasusai@isi.edu
                                </h3>
                            </div>
                        </div>
                        <div
                            class="relative z-10 mt-6 md:mt-0 px-6 py-3 bg-white/5 rounded-full border border-white/10 text-white font-bold text-[10px] uppercase tracking-widest group-hover:bg-white group-hover:text-slate-950 transition-all">
                            Send Message
                        </div>
                    </a>

                    <a href="https://pegasus.isi.edu" target="_blank" rel="noopener noreferrer"
                        class="group relative flex flex-col md:flex-row items-center justify-between p-10 rounded-[2rem] bg-gradient-to-r from-indigo-500/5 to-transparent border border-white/10 hover:border-indigo-500/40 transition-all duration-500">
                        <div class="relative z-10 flex items-center gap-6">
                            <div
                                class="w-24 h-24 rounded-2xl bg-indigo-500/10 border border-indigo-500/20 flex items-center justify-center group-hover:scale-110 transition-transform p-3">
                                <img src="https://pegasus.isi.edu/wordpress/wp-content/uploads/2016/01/logo-vertical-1.png"
                                    alt="Pegasus WMS"
                                    class="w-full h-full object-contain brightness-0 invert opacity-60 group-hover:opacity-100 transition-opacity">
                            </div>
                            <div>
                                <span
                                    class="block font-mono text-[9px] tracking-[0.3em] text-slate-500 uppercase mb-1">Official
                                    Framework</span>
                                <h3
                                    class="text-xl md:text-2xl font-bold text-white tracking-tight group-hover:text-indigo-400 transition-colors italic uppercase">
                                    Pegasus WMS <span class="text-indigo-500">Website</span>
                                </h3>
                            </div>
                        </div>
                        <div
                            class="relative z-10 mt-6 md:mt-0 flex items-center gap-2 text-indigo-400 font-bold text-[10px] uppercase tracking-widest">
                            Explore Docs <i data-lucide="arrow-up-right" class="w-4 h-4"></i>
                        </div>
                    </a>
                </div>
            </div>

            <div
                class="mt-24 pt-8 border-t border-white/5 flex flex-col md:flex-row justify-between items-center gap-6 opacity-50">
                <div class="flex items-center gap-8 font-mono text-[9px] tracking-widest uppercase">
                    <span>© 2026 Pegasus AI</span>
                    <span class="hidden md:block h-3 w-px bg-slate-800"></span>
                    <span>Information Sciences Institute</span>
                </div>
            </div>
        </div>
    </footer>
    <button onclick="toggleTheme()" class="theme-toggle glass-card hover:scale-110 transition-transform">
        <i data-lucide="sun" id="theme-icon" class="text-sky-500"></i>
    </button>
    <script>
        const lifecycleData = [
            { title: "Create Workflow", color: "var(--c-create)", loop: "modify", bullets: ["Suggest related workflows and relevant data", "Error-check workflow composition", "Improve overall user experience (UX)"] },
            { title: "Workflow Plan", color: "var(--c-plan)", loop: "adapt", bullets: ["Decide necessary resource requirements", "Map workflows onto available resources", "Replan dynamically as conditions change"] },
            { title: "Provision Resources", color: "var(--c-provision)", loop: "adapt", bullets: ["Learn job and resource performance history", "Detect anomalies in resource behavior", "Decide whether to adapt execution plans"] },
            { title: "Execute Workflow", color: "var(--c-execute)", loop: "monitor", bullets: ["Monitor workflow execution in real time", "Provide feedback for modification or adaptation"] },
            { title: "Publish Results", color: "var(--c-publish)", loop: "modify", bullets: ["Learn design patterns and code usage", "Share workflows and methods for future reuse"] }
        ];

        let currentStep = 0, isPaused = false;
        function updateUI() {
            const d = lifecycleData[currentStep];
            document.documentElement.style.setProperty('--active-color', d.color);
            document.getElementById('lifecycle-svg').style.transform = `rotate(${-currentStep * 72}deg)`;
            document.querySelectorAll('.stage-path').forEach((p, i) => p.classList.toggle('active', i === currentStep));
            document.getElementById('step-title').innerHTML = d.title;
            document.getElementById('step-title').style.color = d.color;
            document.getElementById('step-bullets').innerHTML = d.bullets.map(b => `<div class="p-4 rounded-xl bg-white/5 border border-white/5 text-2xl font-medium">${b}</div>`).join('');
            lucide.createIcons();
        }
        setInterval(() => { if (!isPaused) { currentStep = (currentStep + 1) % 5; updateUI(); } }, 3500);
        function manualSet(i) { currentStep = i; updateUI(); }
        function toggleAutoplay() { isPaused = !isPaused; lucide.createIcons(); }
        updateUI();


        async function loadTeam() {
            try {
                // Fetch the local JSON file
                const response = await fetch('team.json');
                const data = await response.json();

                const activeGrid = document.getElementById('active-team-grid');
                const alumniGrid = document.getElementById('alumni-grid');

                // Helper to generate the HTML for each person
                const createCard = (person) => `
    <div class="member-card glass-card rounded-[2rem] p-5 group">
        <div class="image-wrapper mb-4 border border-white/5">
            <img src="image.png" class="hover-logo" alt="Pegasus Logo">
            
            <img src="${person.image}" alt="${person.name}" 
                 class="w-full h-full aspect-square object-cover grayscale group-hover:grayscale-0 transition-all duration-500 scale-105 group-hover:scale-100">
            
            <div class="absolute inset-0 bg-gradient-to-t from-slate-950/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div>
        </div>

        <h4 class="text-lg font-bold text-white mb-1">${person.name}</h4>
        <p class="text-sky-400 mono text-[10px] font-bold tracking-widest uppercase mb-4">${person.role}</p>
        
        <div class="flex items-center justify-between">
            <a href="mailto:${person.email}" class="p-2 rounded-lg bg-white/5 hover:bg-sky-500/20 text-slate-400 hover:text-sky-400 transition">
                <i data-lucide="mail" class="w-4 h-4"></i>
            </a>
            <span class="text-[9px] text-slate-600 mono uppercase tracking-widest">${person.status}</span>
        </div>
    </div>
`;

                // Inject Active Team
                activeGrid.innerHTML = data.team.map(p => createCard(p)).join('');

                // Inject Alumni
                alumniGrid.innerHTML = data.alumni.map(p => createCard(p)).join('');

                // Re-initialize icons
                lucide.createIcons();

            } catch (error) {
                console.error("Error loading the team JSON:", error);
            }
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', loadTeam);
        function applyTheme(mode) {
            const body = document.body;
            const icon = document.getElementById('theme-icon');
            if (mode === 'light') {
                body.classList.add('light-mode');
                icon.setAttribute('data-lucide', 'moon');
            } else {
                body.classList.remove('light-mode');
                icon.setAttribute('data-lucide', 'sun');
            }
            lucide.createIcons();
            localStorage.setItem('theme', mode);
        }

        function toggleTheme() {
            const current = document.body.classList.contains('light-mode') ? 'light' : 'dark';
            applyTheme(current === 'light' ? 'dark' : 'light');
        }

        // Initialize theme on load (explicit 'light' or 'dark', default to 'dark')
        window.addEventListener('DOMContentLoaded', () => {
            const saved = localStorage.getItem('theme');
            if (saved === 'light' || saved === 'dark') {
                applyTheme(saved);
            } else {
                applyTheme('dark');
            }
        });
    </script>
</body>

</html>